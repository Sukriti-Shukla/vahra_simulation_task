<?xml version='1.0'?>

<robot name="vajra" xmlns:xacro="http://www.ros.org/wiki/xacro">
<xacro:include filename="$(find vajra)/urdf/vajra2.gazebo" />

<link name="base_footprint"/>
    <joint name="base_joint" type="fixed">
        <parent link="base_footprint"/>
        <child link="base_link"/>
        <origin xyz="0.0 0.0 0.010" rpy="0 0 0"/>
    </joint>

<link name="base_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://vajra/meshes/body/bot2.dae"/>
            </geometry>
        </visual>

        <geometry>
            <mesh filename="package://vajra/meshes/body/bot2.dae" />
        </geometry>

        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="6"/>
            <inertia ixx="0.222416666667" ixy="0.0" ixz="0.0" iyy="1" iyz="0.0" izz="0.732002666667"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <mesh filename="package://vajra/meshes/body/bot2.dae"/>
            </geometry>
        </collision>

</link>

<link name="left_tyre_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://vajra/meshes/wheels/tyre1.dae"/>
            </geometry>
        </visual>

        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.2"/>
            <inertia ixx="0.00098" ixy="0.0" ixz="0.0" iyy="0.00098" iyz="0.0" izz="0.00169"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
            <geometry>
               <mesh filename="package://vajra/meshes/wheels/tyre1.dae"/>
            </geometry>
        </collision>

    </link>

    <joint name="left_tyre_joint" type="continuous">
        <parent link="base_link"/>
        <child link="left_tyre_link"/>
        <origin xyz="0.0 0.323 0" rpy="0 0 0"/>
        <limit effort="2" velocity="5"/>
        <axis xyz="0 1 0"/>
    </joint>

    <link name="right_tyre_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://vajra/meshes/wheels/tyre1.dae"/>
            </geometry>
        </visual>

        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.2"/>
            <inertia ixx="0.00098" ixy="0.0" ixz="0.0" iyy="0.00098" iyz="0.0" izz="0.00169"/>
        </inertial>

        <collision>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
            <geometry>
                <mesh filename="package://vajra/meshes/wheels/tyre1.dae"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="right_tyre_link">
        <mu1>0.4</mu1>
        <mu2>0.4</mu2>
        <kp>100000.0</kp>
        <kd>10.0</kd>
        <minDepth>0.001</minDepth>
        <fdir1>1 0 0</fdir1>
        <material>Gazebo/FlatBlack</material>
    </gazebo>
<joint name="right_tyre_joint" type="continuous">
        <parent link="base_link"/>
        <child link="right_tyre_link"/>
        <origin xyz="0.0 -0.323 0" rpy="0 0 0"/>
        <limit effort="2" velocity="5"/>
        <axis xyz="0 1 0"/>
    </joint>

     <link name="caster_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <mesh filename="package://vajra/meshes/wheels/castors1.dae"/>
            </geometry>
        </visual>

        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.05"/>
            <inertia ixx="6.57541666667e-05" ixy="0.0" ixz="0.0" iyy="6.57541666667e-05" iyz="0.0" izz="6.25e-05"/>
        </inertial>

        <collision>
            <origin xyz="0 0 -0.055" rpy="1.57 0 0"/>
            <geometry>
               <mesh filename="package://vajra/meshes/wheels/castors1.dae"/>
            </geometry>
        </collision>
    </link>

    <gazebo reference="caster_link">
        <kp>10000.0</kp>
        <kd>10000.0</kd>
        <mu1>0.1</mu1>
        <mu2>0.1</mu2>
        <material>Gazebo/Grey</material>
    </gazebo>

    <joint name="caster_joint" type="fixed">
        <parent link="base_link"/>
        <child link="caster_link"/>
        <origin xyz="0.48 0 0.019" rpy="0 0 0"/>
        <limit effort="2" velocity="5"/>
    </joint>

     <link name="camera_link">
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
    
      </geometry>
    </collision>

    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
    <box size="0.1 0.1 0.1"/>
      </geometry>
      <material name="red"/>
    </visual>

    <inertial>
      <mass value="1e-5" />
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
    </inertial>
  </link>


  <joint name="camera_joint" type="fixed">
    <axis xyz="0 1 0" />
    <origin xyz="0.73 0 1.18" rpy="0 0.45 0"/>
    <parent link="body"/>
    <child link="camera_link"/>
  </joint>
</robot>